{"version":3,"file":"build/wc-blocks/image-replacement/index.js","mappings":";;;;;AAAA,MAAM,mCAA4B;;ACAlC,MAAM,gCAA4B;;ACAlC,MAAM,mCAA4B;;ACAgB;AACR;AACG;AAE7C,IAAMG,MAAM,GAAG,SAATA,MAAMA,CAAA,EAAS;EACjB,IAAMC,SAAS,GAAGH,8CAAS,CAAC,UAACI,MAAM;IAAA,OAAKA,MAAM,CAAC,eAAe,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK;EAAA,EAAC;EAEpFL,iDAAS,CAAC,YAAM;IACZM,UAAU,CAAE,YAAY;MAEpB;MACA,IAAMC,QAAQ,GAAOC,QAAQ,CAACC,aAAa,CAAC,qCAAqC,CAAC,IAAID,QAAQ,CAACC,aAAa,CAAC,4DAA4D,CAAC;MAC1K,IAAMC,YAAY,GAAGF,QAAQ,CAACC,aAAa,CAAC,uDAAuD,CAAC;MAEpG,IAAME,YAAY,GAAG;QACjBC,QAAQ,EAAG,2BAA2B;QACtCC,aAAa,EAAG;MACpB,CAAC;MACD,IAAMC,gBAAgB,GAAG;QACrBF,QAAQ,EAAG,yCAAyC;QACpDC,aAAa,EAAG;MACpB,CAAC;MAED,IAAIE,QAAQ,GAAG,IAAI;MACnB,IAAIC,WAAW,GAAG,IAAI;MAEtB,IAAKT,QAAQ,KAAK,IAAI,EAAG;QACrBS,WAAW,GAAGT,QAAQ;QACtBQ,QAAQ,GAAMJ,YAAY;MAC9B,CAAC,MAAM,IAAKD,YAAY,KAAK,IAAI,EAAG;QAChCM,WAAW,GAAGN,YAAY;QAC1BK,QAAQ,GAAMD,gBAAgB;MAClC;MAEA,IAAKC,QAAQ,KAAK,IAAI,IAAIC,WAAW,KAAK,IAAI,EAAG;QAE7C,IAAMJ,QAAQ,GAAGI,WAAW,CAACC,gBAAgB,CAAEF,QAAQ,CAACH,QAAS,CAAC;QAClEA,QAAQ,CAACM,OAAO,CAAC,UAACC,OAAO,EAAEC,QAAQ,EAAK;UACpC,IAAMC,cAAc,GAAGnB,SAAS,CAACkB,QAAQ,CAAC,CAACE,UAAU,CAACC,0BAA0B,CAACC,aAAa;UAC9F,IAAKH,cAAc,EAAG;YAClB,IAAMI,gBAAgB,GAAGN,OAAO,CAACV,aAAa,CAAEM,QAAQ,CAACF,aAAc,CAAC;YACxEY,gBAAgB,CAACC,GAAG,GAAKL,cAAc;UAC3C;QAEJ,CAAC,CAAC;MACN;IACJ,CAAC,EAAE,GAAI,CAAC;EACZ,CAAC,EAAE,EAAE,CAAC;AAGV,CAAC;AAEDvB,sDAAc,CAAC,6BAA6B,EAAE;EAC1CG,MAAM,EAANA,MAAM;EACN0B,KAAK,EAAE;AACX,CAAC,CAAC,C","sources":["webpack://yith-woocommerce-advanced-product-options-premium/external window [\"wp\",\"plugins\"]","webpack://yith-woocommerce-advanced-product-options-premium/external window [\"wp\",\"data\"]","webpack://yith-woocommerce-advanced-product-options-premium/external window [\"wp\",\"element\"]","webpack://yith-woocommerce-advanced-product-options-premium/./includes/wc-blocks/assets/js/image-replacement/index.js"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"plugins\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","import {registerPlugin} from '@wordpress/plugins';\nimport {useSelect} from \"@wordpress/data\";\nimport {useEffect} from \"@wordpress/element\";\n\nconst render = () => {\n    const cartItems = useSelect((select) => select('wc/store/cart').getCartData().items);\n\n    useEffect(() => {\n        setTimeout( function () {\n\n            // Change product thumbnail.\n            const cartHtml     = document.querySelector('.wc-block-cart .wc-block-cart__main') || document.querySelector('.wc-block-cart .wc-block-components-order-summary__content');\n            const checkoutHtml = document.querySelector('.wc-block-checkout .wc-block-components-order-summary');\n\n            const cartElements = {\n                itemsRow : '.wc-block-cart-items__row',\n                imageSelector : '.wc-block-cart-item__image a img'\n            };\n            const checkoutElements = {\n                itemsRow : '.wc-block-components-order-summary-item',\n                imageSelector : '.wc-block-components-order-summary-item__image img'\n            };\n\n            var elements = null;\n            var elementHtml = null;\n\n            if ( cartHtml !== null ) {\n                elementHtml = cartHtml;\n                elements    = cartElements;\n            } else if ( checkoutHtml !== null ) {\n                elementHtml = checkoutHtml;\n                elements    = checkoutElements;\n            }\n\n            if ( elements !== null && elementHtml !== null ) {\n\n                const itemsRow = elementHtml.querySelectorAll( elements.itemsRow );\n                itemsRow.forEach((itemRow, indexRow) => {\n                    const imageToReplace = cartItems[indexRow].extensions.yith_wapo_wc_block_manager.replace_image;\n                    if ( imageToReplace ) {\n                        const cartItemRowImage = itemRow.querySelector( elements.imageSelector );\n                        cartItemRowImage.src   = imageToReplace;\n                    }\n\n                });\n            }\n        }, 650 );\n    }, []);\n\n\n}\n\nregisterPlugin('yith-wapo-image-replacement', {\n    render,\n    scope: 'woocommerce-checkout',\n})"],"names":["registerPlugin","useSelect","useEffect","render","cartItems","select","getCartData","items","setTimeout","cartHtml","document","querySelector","checkoutHtml","cartElements","itemsRow","imageSelector","checkoutElements","elements","elementHtml","querySelectorAll","forEach","itemRow","indexRow","imageToReplace","extensions","yith_wapo_wc_block_manager","replace_image","cartItemRowImage","src","scope"],"sourceRoot":""}